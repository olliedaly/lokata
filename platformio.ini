[env:t-beam-supreme]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino
monitor_speed = 115200

; --- Hardware Specifics for T-Beam Supreme (S3) ---
; The Supreme has 8MB Flash and 8MB PSRAM (OPI)
board_build.arduino.memory_type = qio_opi
board_upload.flash_size = 8MB
board_build.partitions = default_8MB.csv
build_flags = 
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_CDC_ON_BOOT=1  ; Necessary for USB Serial to work on S3
    -DARDUINO_USB_MODE=1      ; Force USB to Serial
    -DLILYGO_T_BEAM_SUPREME_V3_0 ; Feature flag for code

; --- Libraries ---
lib_deps =
    ; Power Management (AXP2101)
    lewisxhe/XPowersLib @ ^0.3.0
    ; IMU (QMI8658) & Mag (QMC6310)
    lewisxhe/SensorLib @ ^0.1.6
    ; GNSS (U-blox)
    sparkfun/SparkFun u-blox GNSS v3 @ ^3.0.16
    ; OLED Display
    olikraus/U8g2 @ ^2.35.9 
    ; Raw GNSS for testing
    mikalhart/TinyGPSPlus @ ^1.0.3

monitor_dtr = 1
monitor_rts = 1
monitor_filters = direct  ; Shows raw output, good for debugging S3 USB Serial issues